% \begin{lem}[Arithmetic Inversion]
% \label{lem:inv_a}
% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and arithmetic expression $\aexpr$}, if
% $ \forall z^j \in \lvar / \{x^i\} \st 
% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \aexpr} \aarrow v $ and 
% $\config{\trace', \aexpr} \aarrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\aexpr$, i.e., $x \in VAR(\aexpr)$.
% %
% % \[
% 	% \forall x^i \in \lvar, \trace, \trace' \in \mathcal{T}, \aexpr \st
% % 	\Big( \forall z^j \in \lvar / \{x^i\} \st 
% % 	\env(\trace) z = \env(\trace') z\Big) \land 
% % 	\config{\trace, \expr} \aarrow v \land \config{\trace', \expr} \aarrow v' \land v \neq v'
% % 	\implies x \in VAR(\expr)
% % \]
% \end{lem}
% %
% %
% \begin{lem}[Boolean Inversion]
% \label{lem:inv_b}
% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and boolean expression $\bexpr$}, if
% $ \forall z^j \in \lvar / \{x^i\} \st 
% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \bexpr} \barrow v $ and 
% $\config{\trace', \bexpr} \barrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\bexpr$, i.e., $x \in VAR(\bexpr)$.
% % \[
% % 	text{(\forall x^i \in \lvar, \trace, \trace' \in \mathcal{T}, \bexpr \st )}
% % 	\Big(\forall z^j \in \lvar / \{x^i\} \st
% % 	\env(\trace) z = \env(\trace') z\Big) \land
% % 	\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'
% % 	\implies x \in VAR(\bexpr) 
% % \]
% \end{lem}
% %
% \begin{lem}[Query Inversion]
% \label{lem:inv_q}
% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and query expression $\qexpr$}, if
% $ \forall z^j \in \lvar / \{x^i\} \st 
% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \qexpr} \qarrow \qval $ and 
% $\config{\trace', \qexpr} \qarrow \qval' $ with $\qval \neq_{q} \qval'$, then $ x $ is in the free variables of $\qexpr$, i.e., $x \in VAR(\qexpr)$.
% % \[
% % 	\forall x^i \in \lvar, \trace, \trace' \in \mathcal{T}, \qexpr \st 
% % 	\left(\forall z^j \in \lvar / \{x^i \} \st
% % 	\env(\trace) z = \env(\trace') z \right) \implies 
% % 	\config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' 
% % 	\implies \qval \neq_{q} \qval'
% % 	\implies x \in VAR(\qexpr) 
% % \]
% \end{lem}
%
\begin{lem}[Expression Inversion]
	\label{lem:inv_expr}
	For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$, and an expression $\expr$} if
	$ \forall z^j \in \lvar / \{x^i\} \st 
	\env(\trace) z = \env(\trace') z $, and if
	\begin{itemize}
		\item $\expr$ is an arithmetic expression $\aexpr$,
		% \\ 
		and $\config{\trace, \aexpr} \aarrow v $ and 
	$\config{\trace', \aexpr} \aarrow v' $ with $v' \neq v$, 
	then $ x $ is in the free variables of $\aexpr$ and $i$ is the latest label for $x$ 
    in $\trace$, i.e., $x \in VAR(\aexpr)$ and $i = \llabel(\trace)$.
%
	\item $\expr$ is a boolean expression $\bexpr$,
	% \\
  and $\config{\trace, \bexpr} \barrow v $ and 
 $\config{\trace', \bexpr} \barrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\bexpr$ and $i$ is the latest label for $x$ 
 in $\trace$, i.e., $x \in VAR(\bexpr)$ and $i = \llabel(\trace)$.
% 
	\item $\expr$ is a query expression $\qexpr$,
	% \\
	and $\config{\trace, \qexpr} \qarrow \qval $ and 
	$\config{\trace', \qexpr} \qarrow \qval' $ with $\qval \neq_{q} \qval'$, then $ x $ is in the free variables of $\qexpr$ and $i$ is the latest label for $x$ 
    in $\trace$, i.e., $x \in VAR(\qexpr)$ and $i = \llabel(\trace)$.
\end{itemize}	%
	\end{lem}
    Proof Summary:
    \\
    To show $x \in VAR(\aexpr)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$)
     if $x \notin VAR(\aexpr)$.
     \\
    To show $i = \llabel(\trace)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$ ) 
    if $j = \llabel(\trace) x$ and $i \neq j$.
    \begin{proof}.
    
    \end{proof}
	%
	%
	% \begin{lem}[Boolean Inversion]
	% \label{lem:inv_b}
	% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and boolean expression $\bexpr$}, if
	% $ \forall z^j \in \lvar / \{x^i\} \st 
	% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \bexpr} \barrow v $ and 
	% $\config{\trace', \bexpr} \barrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\bexpr$, i.e., $x \in VAR(\bexpr)$.
	% % \[
	% % 	text{(\forall x^i \in \lvar, \trace, \trace' \in \mathcal{T}, \bexpr \st )}
	% % 	\Big(\forall z^j \in \lvar / \{x^i\} \st
	% % 	\env(\trace) z = \env(\trace') z\Big) \land
	% % 	\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'
	% % 	\implies x \in VAR(\bexpr) 
	% % \]
	% \end{lem}
	% %
	% \begin{lem}[Query Inversion]
	% \label{lem:inv_q}
	% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and query expression $\qexpr$}, if
	% $ \forall z^j \in \lvar / \{x^i\} \st 
	% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \qexpr} \qarrow \qval $ and 
	% $\config{\trace', \qexpr} \qarrow \qval' $ with $\qval \neq_{q} \qval'$, then $ x $ is in the free variables of $\qexpr$, i.e., $x \in VAR(\qexpr)$.
	% % \[
	% % 	\forall x^i \in \lvar, \trace, \trace' \in \mathcal{T}, \qexpr \st 
	% % 	\left(\forall z^j \in \lvar / \{x^i \} \st
	% % 	\env(\trace) z = \env(\trace') z \right) \implies 
	% % 	\config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' 
	% % 	\implies \qval \neq_{q} \qval'
	% % 	\implies x \in VAR(\qexpr) 
	% % \]
	% \end{lem}
%
% \begin{lem}[Arithmetic Inversion Generalization]
% 	\label{lem:inv_a_gnl}
% 	% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and arithmetic expression $\aexpr$}, if
% 	% $ \forall z^j \in \lvar / \{x^i\} \st 
% 	% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \aexpr} \aarrow v $ and 
% 	% $\config{\trace', \aexpr} \aarrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\aexpr$, i.e., $x \in VAR(\aexpr)$.
% 	%
% 	For all subset of the labelled variables $\diff \subset \lvar$, and $x^i \in (\lvar \setminus \diff)$,
% 	and an arithmetic expression $\aexpr$,
% 	if for all $z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v'$ such that 
% 	$\env(\trace) z = \env(\trace') z$, and 
% 	$
% 	\config{\trace, \aexpr} \aarrow v$, and $\config{\trace', \aexpr} \aarrow v'$ with $v = v'$;
% 	and for all $z^j \in \lvar / (\diff \cup \{x^i\} )$ 
% 	there exist $\trace, \trace' \in \mathcal{T}, v, v'$ such that 
% 	$\env(\trace) z = \env(\trace') z$, and 
% 	$
% 	\config{\trace, \aexpr} \aarrow v$, and $\config{\trace', \aexpr} \aarrow v'$ with $v \neq v'$,
% 	then $x \in VAR(\aexpr)$ and $i = \llabel(\trace) x$.
% 	\[
% 		\begin{array}{l}
% 		\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \aexpr \st
% 		\\ \quad
% 		\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v' \st 
% 		\env(\trace) z = \env(\trace') z \land 
% 		\config{\trace, \aexpr} \aarrow v \land \config{\trace', \aexpr} \aarrow v' \land v = v'
% 		\\ \quad
% 		\implies 
% 		\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
% 		 \exists \trace, \trace' \in \mathcal{T}, v, v'\st 
% 		\env(\trace) z = \env(\trace') z \land 
% 		\config{\trace, \aexpr} \aarrow v \land \config{\trace', \aexpr} \aarrow v' \land v \neq v'
% 		\\ \qquad
% 		\implies x \in VAR(\aexpr) \land i = \llabel(\trace) x
% 		\end{array}
% 	\]
% 	\end{lem}
% \begin{proof}.
% 	\\
% 	To show $x \in VAR(\aexpr)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$)
% 	 if $x \notin VAR(\aexpr)$.
% 	 \\
% 	To show $i = \llabel(\trace)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$ ) 
% 	if $j = \llabel(\trace) x$ and $i \neq j$.
% \end{proof}
% 	%
% \begin{lem}[Boolean Inversion Generalization]
% 		\label{lem:inv_b_gnl}
% 		% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and arithmetic expression $\aexpr$}, if
% 		% $ \forall z^j \in \lvar / \{x^i\} \st 
% 		% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \aexpr} \aarrow v $ and 
% 		% $\config{\trace', \aexpr} \aarrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\aexpr$, i.e., $x \in VAR(\aexpr)$.
% 		%
% 		\[
% 			\begin{array}{l}
% 			\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \bexpr \st
% 			\\ \quad
% 			\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v' \st 
% 			\env(\trace) z = \env(\trace') z \land 
% 			\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v = v'
% 			\\ \quad
% 			\implies 
% 			\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
% 			 \exists \trace, \trace' \in \mathcal{T}, v, v'\st 
% 			\env(\trace) z = \env(\trace') z \land 
% 			\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'
% 			\\ \qquad
% 			\implies x \in VAR(\bexpr) \land i = \llabel(\trace)
% 			\end{array}
% 		\]
% \end{lem}%
\begin{lem}[Expression Inversion Generalization]
	\label{lem:inv_expr_gnl}
	For all subset of the labelled variables $\diff \subset \lvar$, and $x^i \in (\lvar \setminus \diff)$,
	and an expression $\expr$, if 
	\begin{itemize}
		\item $\expr$ is an arithmetic expression $\aexpr$,
		% \\ 
		and for all $z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v'$ such that 
		$\env(\trace) z = \env(\trace') z$, and 
		$
		\config{\trace, \aexpr} \aarrow v$, and $\config{\trace', \aexpr} \aarrow v'$ with $v = v'$;
		and for all $z^j \in \lvar / (\diff \cup \{x^i\} )$ 
		there exist $\trace, \trace' \in \mathcal{T}, v, v'$ such that 
		$\env(\trace) z = \env(\trace') z$, and 
		$
		\config{\trace, \aexpr} \aarrow v$, and $\config{\trace', \aexpr} \aarrow v'$ with $v \neq v'$,
		then $x \in VAR(\aexpr)$ and $i = \llabel(\trace) x$.
		\[
			\begin{array}{l}
			\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \aexpr \st
			\\ \quad
			\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v' \st 
			\env(\trace) z = \env(\trace') z \land 
			\config{\trace, \aexpr} \aarrow v \land \config{\trace', \aexpr} \aarrow v' \land v = v'
			\\ \quad
			\implies 
			\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
			\exists \trace, \trace' \in \mathcal{T}, v, v'\st 
			\env(\trace) z = \env(\trace') z \land 
			\config{\trace, \aexpr} \aarrow v \land \config{\trace', \aexpr} \aarrow v' \land v \neq v'
			\\ \qquad
			\implies x \in VAR(\aexpr) \land i = \llabel(\trace) x
			\end{array}
		\]
	\item $\expr$ is a boolean expression $\bexpr$,
	and for all $ z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v'$ such that 
	$ \env(\trace) z = \env(\trace') z \land 
	\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v = v'$;
	and for all
	$ z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
	 \exists \trace, \trace' \in \mathcal{T}, v, v'\st 
	\env(\trace) z = \env(\trace') z \land 
	\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'$
	then 
	 $x \in VAR(\bexpr) \land i = \llabel(\trace)$
	% \\
	\[
		\begin{array}{l}
		\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \bexpr \st
		\\ \quad
		\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v' \st 
		\env(\trace) z = \env(\trace') z \land 
		\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v = v'
		\\ \quad
		\implies 
		\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
		 \exists \trace, \trace' \in \mathcal{T}, v, v'\st 
		\env(\trace) z = \env(\trace') z \land 
		\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'
		\\ \qquad
		\implies x \in VAR(\bexpr) \land i = \llabel(\trace)
		\end{array}
	\]
% 
	\item $\expr$ is a query expression $\qexpr$,
	and for all $\diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \qexpr$ such that 
	for all $ z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, \qval, \qval' \st 
 \env(\trace) z = \env(\trace') z \land 
 \config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' \land \qval =_q \qval'$;
 and for all 
	$ z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
  \exists \trace, \trace' \in \mathcal{T}, \qval, \qval'\st 
 \env(\trace) z = \env(\trace') z \land 
 \config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' \land \qval \neq_{q} \qval'$,
 then  $x \in VAR(\qexpr) \land i = \llabel(\trace)$.
	% \\
	\[
		\begin{array}{l}
		\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \qexpr \st
		\\ \quad
		\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, \qval, \qval' \st 
		\env(\trace) z = \env(\trace') z \land 
		\config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' \land \qval =_q \qval'
		\\ \quad
		\implies 
		\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
		 \exists \trace, \trace' \in \mathcal{T}, \qval, \qval'\st 
		\env(\trace) z = \env(\trace') z \land 
		\config{\trace, \qexpr} \qarrow \qval \land \config{\trace', \qexpr} \qarrow \qval' \land \qval \neq_{q} \qval'
		\\ \qquad
		\implies x \in VAR(\qexpr) \land i = \llabel(\trace)
		\end{array}
	\]
	\end{itemize}
	\end{lem}
	%
Proof Summary: 
\\
To show $x \in VAR(\aexpr)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$)
 if $x \notin VAR(\aexpr)$.
 \\
To show $i = \llabel(\trace)$, by showing contradiction ($\forall \trace, \trace'$ in second hypothesis  $v = v'$ ) 
if $j = \llabel(\trace) x$ and $i \neq j$.
\begin{proof}.

\end{proof}
	%
% \begin{lem}[Boolean Inversion Generalization]
% 		\label{lem:inv_b_gnl}
% 		% For all {$ x^i \in \lvar$, and $\trace, \trace' \in \mathcal{T}$,  and arithmetic expression $\aexpr$}, if
% 		% $ \forall z^j \in \lvar / \{x^i\} \st 
% 		% \env(\trace) z = \env(\trace') z $ and $\config{\trace, \aexpr} \aarrow v $ and 
% 		% $\config{\trace', \aexpr} \aarrow v' $ with $v' \neq v$, then $ x $ is in the free variables of $\aexpr$, i.e., $x \in VAR(\aexpr)$.
% 		%
% 		\[
% 			\begin{array}{l}
% 			\forall \diff \subset \lvar,  x^i \in (\lvar \setminus \diff), \bexpr \st
% 			\\ \quad
% 			\forall z^j \in \lvar \setminus \diff, \trace, \trace' \in \mathcal{T}, v, v' \st 
% 			\env(\trace) z = \env(\trace') z \land 
% 			\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v = v'
% 			\\ \quad
% 			\implies 
% 			\forall z^j \in \lvar / (\diff \cup \{x^i\} ) \st 
% 			 \exists \trace, \trace' \in \mathcal{T}, v, v'\st 
% 			\env(\trace) z = \env(\trace') z \land 
% 			\config{\trace, \bexpr} \barrow v \land \config{\trace', \bexpr} \barrow v' \land v \neq v'
% 			\\ \qquad
% 			\implies x \in VAR(\bexpr) \land i = \llabel(\trace)
% 			\end{array}
% 		\]
% \end{lem}%
%
% \begin{lem}[Assignment Inversion].
% \label{lem:inv_a}
% \[
% 	\forall x \in \lvar, \expr \st 
% 	\Big( \exists \trace, \trace' \st \forall z^i \in \lvar / \{x^l\} \st 
% 	\env(\trace) z = \env(\trace') z \st 
% 	\config{\trace, \expr} \aarrow v \land \config{\trace', \expr} \aarrow v' \land v  \neq v'
% 	\implies x \in VAR(\expr) \land x^l \in \Big)
% \]
% \end{lem}
%
% \begin{lem}[Assignment Event Inversion]
% \label{lem:inv_asn}
% \[
% \begin{array}{l}
% 	\forall \trace_0 \in \mathcal{T}, c \in \cdom,
% 	\event \in \eventset^{\asn} \st
% 	\config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1} \implies
% 	(\event \eventin \trace_1 \land	x = \pi_1(\event) \land l = \pi_2(\event))
% 	\\ 
% 	\implies 
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \expr, c' \st
% 		\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\expr}]^l;c', \trace_0  \tracecat  \trace'} \rightarrow^{assn}
% 		\config{c', \trace_0 \tracecat \trace_1'\cdot \event} \rightarrow^{*}
% 		\config{\eskip, \trace_0  \tracecat  \trace_1}
% 	\big)
% 	\\ \qquad \lor
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \qexpr, c' \st
% 		\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\query(\qexpr)}]^l;c', \trace_0 \tracecat \trace_1'} \rightarrow^{query}
% 		\config{c', \trace_0  \tracecat  \trace_1' \cdot \event } \rightarrow^{*}
% 		\config{ \eskip, \trace_0\trace_1}
% 	\big)
% \end{array}
% \]
% %
% \end{lem}
% %
% \begin{lem}[Testing Event Inversion]
% \label{lem:inv_test}
% \[
% \begin{array}{l}
% 	\forall c\in \cdom, \trace_0 \in \mathcal{T}, \event = (b, l, n, v) \in \eventset^{\test} \st
% 	 \config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1}
% 	\implies  \event \eventin \trace_1 \\
% 	\implies 
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_t, c_f, c'' \in \cdom \st
% 		\config{c, \trace_0} \rightarrow^* \config{\eif ([b]^l, c_t, c_f);c', \trace_0 \tracecat \trace_1'} \rightarrow^{if-b}
% 		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
% 		\config{\eskip, \trace_0 \tracecat \trace_1} 
% 	\big)
% 	\\ \qquad \lor
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_w, c'' \in \cdom \st
% 		\config{c, \trace_0} \rightarrow^* \config{ \ewhile([b]^l, c_w);c', \trace_0 \tracecat  \trace_1'} \rightarrow^{while-b}
% 		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
% 		\config{\eskip, \trace_0  \tracecat \trace_1}
% 	\big)
% \end{array}
% \]
% \end{lem}
\begin{lem}[Event Inversion]
\label{lem:inv_event}
For all $\forall c\in \cdom, \trace_0 \in \mathcal{T}, \event \in \eventset$such that 
$\config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1}$, 
and $\event \eventin \trace_1$, if 
\begin{itemize}
	\item $\event \in \eventset^{\asn}$, then either
	\begin{itemize}

	 \item there exists $\trace_1' \in \mathcal{T}, c' \in \cdom, \expr$ such that
\[
\begin{array}{l}
	% \forall \trace_0 \in \mathcal{T}, c \in \cdom,
	% \event \in \eventset^{\asn} \st
	% \config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1} \implies
	% (\event \eventin \trace_1 \land	x = \pi_1(\event) \land l = \pi_2(\event))
	% \\ 
	% \implies 
	% \big( 
		% \exists \trace_1' \in \mathcal{T}, \expr, c' \st
		\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\expr}]^l;c', \trace_0  \tracecat  \trace'} \rightarrow^{assn}
		\config{c', \trace_0 \tracecat \trace_1'\cdot \event} \rightarrow^{*}
		\config{\eskip, \trace_0  \tracecat  \trace_1}
	% \big)
	% \\  \lor
	% \big( 
	% 	\exists \trace_1' \in \mathcal{T}, \qexpr, c' \st
	% 	\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\query(\qexpr)}]^l;c', \trace_0 \tracecat \trace_1'} \rightarrow^{query}
	% 	\config{c', \trace_0  \tracecat  \trace_1' \cdot \event } \rightarrow^{*}
	% 	\config{ \eskip, \trace_0\trace_1}
	% \big)
\end{array}
\]
\item or there exists $\trace_1' \in \mathcal{T}, c' \in \cdom, \qexpr$ such that 
\[
\begin{array}{l}
	% \forall \trace_0 \in \mathcal{T}, c \in \cdom,
	% \event \in \eventset^{\asn} \st
	% \config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1} \implies
	% (\event \eventin \trace_1 \land	x = \pi_1(\event) \land l = \pi_2(\event))
	% \\ 
	% \implies 
	% \big( 
	% 	\exists \trace_1' \in \mathcal{T}, \expr, c' \st
	% 	\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\expr}]^l;c', \trace_0  \tracecat  \trace'} \rightarrow^{assn}
	% 	\config{c', \trace_0 \tracecat \trace_1'\cdot \event} \rightarrow^{*}
	% 	\config{\eskip, \trace_0  \tracecat  \trace_1}
	% \big)
	% \\  \lor
	% \big( 
		% \exists \trace_1' \in \mathcal{T}, \qexpr, c' \st
		\config{c, \trace_0} \rightarrow^* \config{ [\assign{x}{\query(\qexpr)}]^l;c', \trace_0 \tracecat \trace_1'} \rightarrow^{query}
		\config{c', \trace_0  \tracecat  \trace_1' \cdot \event } \rightarrow^{*}
		\config{ \eskip, \trace_0\trace_1}
	% \big)
\end{array}
\]
\end{itemize}

\item $\event\in \eventset^{\test}$ then either 
\begin{itemize}
\item there exists $\trace_1' \in \mathcal{T}, c', c_t, c_f, c'' \in \cdom, \bexpr$ such that
\[
\begin{array}{l}
	% \big( 
	% 	\exists \trace_1' \in \mathcal{T}, c', c_t, c_f, c'' \in \cdom, \bexpr \st
		\config{c, \trace_0} \rightarrow^* \config{\eif ([b]^l, c_t, c_f);c', \trace_0 \tracecat \trace_1'} \rightarrow^{if-b}
		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
		\config{\eskip, \trace_0 \tracecat \trace_1} 
	% \big)
	% \\  \lor
	% \big( 
	% 	\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_w, c'' \in \cdom \st
	% 	\config{c, \trace_0} \rightarrow^* \config{ \ewhile([b]^l, c_w);c', \trace_0 \tracecat  \trace_1'} \rightarrow^{while-b}
	% 	\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
	% 	\config{\eskip, \trace_0  \tracecat \trace_1}
	% \big)
\end{array}
\]
\item or there exists $ \trace_1' \in \mathcal{T}, c', c_w, c'' \in \cdom, \bexpr$ such that 
\[
% \begin{array}{l}
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_t, c_f, c'' \in \cdom \st
% 		\config{c, \trace_0} \rightarrow^* \config{\eif ([b]^l, c_t, c_f);c', \trace_0 \tracecat \trace_1'} \rightarrow^{if-b}
% 		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
% 		\config{\eskip, \trace_0 \tracecat \trace_1} 
% 	\big)
% 	\\  \lor
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_w, c'' \in \cdom \st
		\config{c, \trace_0} \rightarrow^* \config{ \ewhile([b]^l, c_w);c', \trace_0 \tracecat  \trace_1'} \rightarrow^{while-b}
		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
		\config{\eskip, \trace_0  \tracecat \trace_1}
% 	\big)
% \end{array}
\]
\end{itemize}
\end{itemize}
%
\end{lem}
%
% \begin{lem}[Testing Event Inversion]
% \label{lem:inv_test}
% \[
% \begin{array}{l}
% 	\forall c\in \cdom, \trace_0 \in \mathcal{T}, \event = (b, l, n, v) \in \eventset^{\test} \st
% 	 \config{c, \trace_0} \rightarrow^* \config{\eskip, \trace_0 \tracecat \trace_1}
% 	\implies  \event \eventin \trace_1 \\
% 	\implies 
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_t, c_f, c'' \in \cdom \st
% 		\config{c, \trace_0} \rightarrow^* \config{\eif ([b]^l, c_t, c_f);c', \trace_0 \tracecat \trace_1'} \rightarrow^{if-b}
% 		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
% 		\config{\eskip, \trace_0 \tracecat \trace_1} 
% 	\big)
% 	\\ \qquad \lor
% 	\big( 
% 		\exists \trace_1' \in \mathcal{T}, \bexpr, c', c_w, c'' \in \cdom \st
% 		\config{c, \trace_0} \rightarrow^* \config{ \ewhile([b]^l, c_w);c', \trace_0 \tracecat  \trace_1'} \rightarrow^{while-b}
% 		\config{c'', \trace_0 \tracecat \trace_1'\cdot \event } \rightarrow^{*}
% 		\config{\eskip, \trace_0  \tracecat \trace_1}
% 	\big)
% \end{array}
% \]
% \end{lem}
%
% \begin{lem}[Control Dependency -> Exists Testing Event]
% \label{lem:inv_ctltotest}
% \[
% 	\forall \event_1, \event_2 \in \eventset, c \st 
% 	\eventdep^{\ctl}(\event_1, \event_2, c, D)
% 	\implies
% 	\exists \event_b \in \eventset^{\test}, \trace_2 \in \mathcal{T} \st \eventdep(\event_1, \event_b, \trace_2, c, D)
% \]
% \end{lem}

% \begin{lem}[Control Dependency -> Event 2 in the Body Command of the Testing Event]
% \label{lem:inv_ctltoevent2}
% \[
% \begin{array}{l}
% 	\forall \event_1, \event_2 = (x_2, l_2, n_2, v_2) \in \eventset, c \st 
% 	\eventdep^{\ctl}(\event_1, \event_2, c, D)\\
% 	\implies
% 	\exists \event_b = (b, l, n, v) \in \eventset^{\test}, \expr_2 \st \eventdep(\event_1, \event_b, c, D)\\
% 	\quad \land \Big(
% 	\exists c_t, c_f \st (\eif ([b]{}^l, c_t, c_f)) \in_{c} c \land ([\assign{x_2}{\expr_2}]^{l_2}) \in_c c_t;c_f \\
% 	\qquad \lor\exists c_w \st (\ewhile [b]{}^l \edo c_w) \in_{c} c \land ([\assign{x_2}{\expr_2}]^{l_2}) \in_c c_w
% 	\Big)
% \end{array}
% \]
% \end{lem}
%
\begin{lem}[Liveness Inversion]
\label{lem:inv_live}
For all $c \in \cdom \trace, \trace' \in \mathcal{T} $, if 
$\config{c, \trace} \xrightarrow{}^* \config{c', \trace'}$,
and for all $x^l \in \lvar_c$ such that 
$\llabel(\trace') x = l $, then $(x^l \in \live^{\entry_{c'}}(c))$.
%
\[
	\forall c \in \cdom , \trace, \trace' \in \mathcal{T} \st
	\config{c, \trace} \xrightarrow{}^* \config{c', \trace'}
	\implies
	\forall x^l \in \lvar_c \st \llabel(\trace') x = l \implies (x^l \in \live^{\entry_{c'}}(c))
\]
\end{lem}